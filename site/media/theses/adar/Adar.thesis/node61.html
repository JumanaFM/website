<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>The StarGraph Class</TITLE>
<META NAME="description" CONTENT="The StarGraph Class">
<META NAME="keywords" CONTENT="main">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="main.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html973" HREF="node62.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html971" HREF="node60.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html965" HREF="node60.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html975" HREF="node2.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A>  <BR>
<B> Next:</B> <A NAME="tex2html974" HREF="node62.html">The HDM Event Model</A>
<B>Up:</B> <A NAME="tex2html972" HREF="node60.html">The HsDispatcher Service</A>
<B> Previous:</B> <A NAME="tex2html966" HREF="node60.html">The HsDispatcher Service</A>
<BR> <P>
<H3><A NAME="SECTION001032100000000000000">The <tt>StarGraph</tt> Class</A></H3>
<P>
In order to express interest in a specific subgraph, a service
instantiates a <tt>StarGraph</tt> object with information about the
desired structure.  Within Haystack, we define a star graph to consist
of a central node with a number of attached rays.  We can have any
number of (uniquely labeled) rays which consist of <tt>Tie</tt>
objects and the <tt>Straw</tt> object each <tt>Tie</tt> is connected
to.
<P>
An example may clarify this model.  The <tt>HsTypeGuesser</tt> service
has the task of deciding the type of an object.  Type can be guessed
by two heuristic methods.  One method is based on analysis of the file
name or Uniform Resource Location (URL) and the other method is based
on the analysis of the content of the document<A NAME="tex2html46" HREF="footnode.html#1963"><IMG  ALIGN=BOTTOM ALT="gif" SRC="foot_motif.gif"></A>.  The <tt>HsTypeGuesser</tt> is therefore interested in a
<tt>bale.HaystackDocument</tt> object connected to a
<tt>needle.Location.URL</tt> and a <tt>needle.Body</tt> object.
Graphically, this corresponds to Figure&nbsp;<A HREF="node61.html#figstar"><IMG  ALIGN=BOTTOM ALT="gif" SRC="cross_ref_motif.gif"></A>.
<P>
<P><A NAME="1497">&#160;</A><A NAME="figstar">&#160;</A> <IMG ALIGN=BOTTOM ALT="figure1482" SRC="83.gif"  > <BR>
<STRONG>Figure:</STRONG> A Sample star graph.<BR>
<P>
<P>
In this case, we don't actually care what the types of the two
<tt>Tie</tt>s are.  The graph is still of interest whether the
<tt>needle.location.URL</tt> is connected by a
<tt>tie.location.URL</tt>, a <tt>tie.Location</tt>, or just a
<tt>Tie</tt>.  Say we also have a new type of <tt>needle.Location</tt>
extension.  For example, a <tt>needle.location.RMAILID</tt>, which
indicates the location of a specific mail message in an RMAIL file.
We extend our <tt>HsFetchService</tt> to retrieve this type of
document.  Our fetch service is now not only interested in the
<tt>needle.location.URL</tt>, but also other kinds of
<tt>needle.location</tt> objects. We now want to see the
<tt>StarGraph</tt> that includes the wildcard for of the
<tt>needle.Location</tt> type, specifically
<tt>needle.Location*</tt><A NAME="tex2html47" HREF="footnode.html#1514"><IMG  ALIGN=BOTTOM ALT="gif" SRC="foot_motif.gif"></A> character). To allow for this behaviour, the
  <tt>StarGraph</tt> object is instantiated not with an explicit
  description of the sub-graph, but rather a regular expression that
  models all acceptable matches.  Figure&nbsp;<A HREF="node61.html#figstar2"><IMG  ALIGN=BOTTOM ALT="gif" SRC="cross_ref_motif.gif"></A> represents
  this graphically.  Note also that we are assuming a case insensitive
  regular expression (i.e. tie* matches <tt>Tie</tt>, <tt>tie</tt>,
  and <tt>tie.Location</tt>).  The complete defintion of the
  <tt>StarGraph</tt> regular expression syntax is available
  in&nbsp;[<A HREF="node88.html#asdo">6</A>].
<P>
<P><A NAME="1537">&#160;</A><A NAME="figstar2">&#160;</A> <IMG ALIGN=BOTTOM ALT="figure1522" SRC="84.gif"  > <BR>
<STRONG>Figure:</STRONG> A Sample star graph with regular expressions.<BR>
<P><HR><A NAME="tex2html973" HREF="node62.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html971" HREF="node60.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html965" HREF="node60.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html975" HREF="node2.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A>  <BR>
<B> Next:</B> <A NAME="tex2html974" HREF="node62.html">The HDM Event Model</A>
<B>Up:</B> <A NAME="tex2html972" HREF="node60.html">The HsDispatcher Service</A>
<B> Previous:</B> <A NAME="tex2html966" HREF="node60.html">The HsDispatcher Service</A>
<P><ADDRESS>
Copyright 1998, Eytan Adar (eytan@alum.mit.edu)
</ADDRESS>
</BODY>
</HTML>
