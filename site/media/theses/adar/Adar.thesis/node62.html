<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>The HDM Event Model</TITLE>
<META NAME="description" CONTENT="The HDM Event Model">
<META NAME="keywords" CONTENT="main">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="main.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html982" HREF="node63.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html980" HREF="node60.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html976" HREF="node61.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html984" HREF="node2.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A>  <BR>
<B> Next:</B> <A NAME="tex2html983" HREF="node63.html">The HsConfigService</A>
<B>Up:</B> <A NAME="tex2html981" HREF="node60.html">The HsDispatcher Service</A>
<B> Previous:</B> <A NAME="tex2html977" HREF="node61.html">The StarGraph Class</A>
<BR> <P>
<H3><A NAME="SECTION001032200000000000000">The HDM Event Model</A></H3>
<P>
Now that we have an undestanding of the type of structures we are
trying to observe, what type of events are services waiting for?  The
following are the events generated by the HDM and their meaning:
<P>
<UL><LI> A <tt>HaystackEvent</tt> is generated for changes in the structure of the
  graph.  Specifically, there are two extensions to <tt>HaystackEvent</tt>:
  <UL><LI> Whenever a change in graph structure happens (as indicated by
    the setting of both the ``forward'' and ``back'' pointers of a
    <tt>Tie</tt>) a <tt>HaystackCreateEvent</tt> is generated.<LI> When a <tt>Needle</tt> that is connected to at least one other
    <tt>Straw</tt> has its data changed (by means of a
    <tt>setData(...)</tt> invocation) a <tt>HaystackChangeEvent</tt>
    is generated.
  </UL><LI> An <tt>ObjectEvent</tt> is generated for changes and creations
  in any independent <tt>Straw</tt> (regardless of what it is
  connected to).  This is useful for services that are interested in
  keeping track of all object changes in the HDM (for example the
  <tt>HsLore</tt> service will want to update each <tt>Straw</tt>
  entered in the database as it happens).  There are three types of
  <tt>ObjectEvent</tt>s:
  <UL><LI> An <tt>ObjectCreateEvent</tt> is generated whenever a new HDM
    object is created.<LI> An <tt>ObjectDeleteEvent</tt> is generated whenever an HDM
    object is deleted.<LI> Finally, Haystack defines an abstract (i.e.
      non-instantiatable) <tt>ObjectChangeEvent</tt> class.  This
      class is extended by two specific implementations:
      <UL><LI> An <tt>ObjectChangeLinkEvent</tt> is generated when any
        pointer (i.e. the pointers in <tt>Tie</tt>s as well as the
        <tt>StrawTies</tt> in <tt>Straw</tt>) are changed.<LI> An <tt>ObjectChangeDataEvent</tt> is generated when a
        <tt>Needle</tt>'s data is changed.
      </UL></UL></UL>
<P>
What we have indirectly achieved is the ability to differentiate
between different granularity of events, from structure to individial
``atomic'' components.
<P>
<BR> <HR>
<P><ADDRESS>
Copyright 1998, Eytan Adar (eytan@alum.mit.edu)
</ADDRESS>
</BODY>
</HTML>
